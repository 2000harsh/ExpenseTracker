@model ExpenseTrackerMVC.Models.mvcExpenseModel
@{
    ViewBag.Title = "AddOrEdit Expense";
}

<div class="form-body">
    @using (Html.BeginForm())
    {
        @Html.HiddenFor(model => model.expenseId)
        <div class="form-group">
            @Html.Label("Title")
            @Html.EditorFor(model => model.title)
            @Html.ValidationMessageFor(model => model.title)
        </div>
        <div class="form-group">
            @Html.Label("Description")
            @Html.EditorFor(model => model.description)
            @Html.ValidationMessageFor(model => model.description)
        </div>
        <div class="form-group">
            @Html.Label("Amount")
            @Html.EditorFor(model => model.expense_amount)
            @Html.ValidationMessageFor(model => model.expense_amount)
        </div>
        <div class="form-group">
            @Html.Label("Date")
            @Html.EditorFor(model => model.date,new { htmlattributes = new { @class = "datepicker" } })
            @Html.ValidationMessageFor(model => model.date)
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.categoryId, "Category",htmlAttributes: new {@class= "control-label col-md-2"})
            <select name="categoryId" class="custom-select">
                @{ 
                    <option value="">Select category</option>
                    foreach(var item in ViewBag.category)
                {
                    <option value="@item.categoryId" id="op">@item.categoryName</option>
                }
                }
            </select>
            @Html.ValidationMessageFor(model => model.categoryId, "", new { @class = "text-danger" })
        </div>

        <div class="form-group">
            <input type="submit" value="Submit" class="btn button" />
            <input type="reset" value="Reset" class="btn button" />
        </div>

    }
</div>

<link href="~/Content/themes/base/jquery-ui.min.css" rel="stylesheet" />
@section scripts{
    @Scripts.Render("~/bundles/jqueryval");
<script src="~/Scripts/jquery-ui-1.13.2.min.js"></script>
    <script>
        $(function () {
            $(".datepicker").datepicker({
                changeMonth: true,
                changeYear: true,
                minDate: new Date(2022, 0, 1),
                maxDate: new Date(2040, 0, 1),
                showOn: "both",
                buttonText: "<i class='fa fa-calendar></i>'"
                });

        });
    </script>
}


